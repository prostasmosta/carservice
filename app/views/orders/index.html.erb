<h1 class="my-3"><%= t('views.all_orders') %></h1>

<div>
  <%= link_to t('views.create_order'), new_order_path, class: 'btn btn-success mb-3' %>
</div>

<div class="row">
  <div class="col-md-8">
    <%= search_form_for @q do |f| %>
      <div class="mb-3 mt-2">
        <%= f.label :customer_name_cont %>
        <%= f.search_field :customer_name_cont, class: 'form-control' %>
      </div>

      <div class="mb-3">
        <%= f.label :service_start %>
        <%= f.search_field :services_title_start, class: 'form-control' %>
      </div>

      <div class="mb-3">
        <%= f.label :executor_start %>
        <%= f.search_field :executors_name_start, class: 'form-control' %>
      </div>

      <div class="mt-3">
        <button type="submit" class="btn btn-success"><%= t('views.search') %></button>
      </div>
    <% end %>
  </div>

  <div class="col-md-4 px-3 text-end">
    <h4 class="mt-4"><%= t('views.sort') %></h4>

    <nav><%= sort_link(@q, :customer_name) %></nav>
    <nav><%= sort_link(@q, :created_at) %></nav>
    <nav><%= sort_link(@q, :price) %></nav>
    <nav><%= sort_link(@q, :exec_time) %></nav>
    <nav><%= sort_link(@q, :service_title, t('views.s_title')) %></nav>
    <nav><%= sort_link(@q, :executor_name, t('views.e_name')) %></nav>
  </div>
</div>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
  <%= render partial: 'orders/order', collection: @orders %>
</div>

<div class="my-4">
  <%= will_paginate @orders %>
</div>

<div class="my-4 text-end">
  <%= link_to t('views.dwnload'), orders_path(request.parameters.merge(format: :xlsx)) %>
</div>
